<!DOCTYPE HTML>
<html>
<head>
  <meta http-equiv="Expires" content="0">
  <meta http-equiv="Last-Modified" content="0">
  <meta http-equiv="Cache-Control" content="no-cache, mustrevalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <script src="https://cdn.canvasjs.com/canvasjs.min.js"></script>

  <script>
    window.onload = function () {

      var chart = new CanvasJS.Chart("chartContainer", {
        animationEnabled: true,
        theme: "light2",
        title: {
          text: "Tráfico de visitantes en la comunidad"
        },
        axisX: {
          valueFormatString: "DD MMM",
          crosshair: {
            enabled: true,
            snapToDataPoint: true
          }
        },
        axisY: {
          title: "Número de visitas",
          includeZero: true,
          crosshair: {
            enabled: true
          }
        },
        toolTip: {
          shared: true
        },
        legend: {
          cursor: "pointer",
          verticalAlign: "bottom",
          horizontalAlign: "left",
          dockInsidePlotArea: true,
          itemclick: toogleDataSeries
        },
        data: [{
          type: "line",
          showInLegend: true,
          name: "Miembros de la comunidad",
          markerType: "square",
          xValueFormatString: "DD MMM, YYYY",
          color: "#F08080",
          dataPoints: [
            { x: new Date(2017, 0, 3), y: 650 },
            { x: new Date(2017, 0, 4), y: 700 },
            { x: new Date(2017, 0, 5), y: 710 },
            { x: new Date(2017, 0, 6), y: 658 },
            { x: new Date(2017, 0, 7), y: 734 },
            { x: new Date(2017, 0, 8), y: 963 },
            { x: new Date(2017, 0, 9), y: 847 },
            { x: new Date(2017, 0, 10), y: 853 },
            { x: new Date(2017, 0, 11), y: 869 },
            { x: new Date(2017, 0, 12), y: 943 },
            { x: new Date(2017, 0, 13), y: 970 },
            { x: new Date(2017, 0, 14), y: 869 },
            { x: new Date(2017, 0, 15), y: 890 },
            { x: new Date(2017, 0, 16), y: 930 }
          ]
        },
        {
          type: "line",
          showInLegend: true,
          name: "Invitados",
          lineDashType: "dash",
          dataPoints: [
            { x: new Date(2017, 0, 3), y: 510 },
            { x: new Date(2017, 0, 4), y: 560 },
            { x: new Date(2017, 0, 5), y: 540 },
            { x: new Date(2017, 0, 6), y: 558 },
            { x: new Date(2017, 0, 7), y: 544 },
            { x: new Date(2017, 0, 8), y: 693 },
            { x: new Date(2017, 0, 9), y: 657 },
            { x: new Date(2017, 0, 10), y: 663 },
            { x: new Date(2017, 0, 11), y: 639 },
            { x: new Date(2017, 0, 12), y: 673 },
            { x: new Date(2017, 0, 13), y: 660 },
            { x: new Date(2017, 0, 14), y: 562 },
            { x: new Date(2017, 0, 15), y: 643 },
            { x: new Date(2017, 0, 16), y: 570 }
          ]
        }]
      });


      var chart1 = new CanvasJS.Chart("chartContainer1", {
        animationEnabled: true,
        theme: "light2",
        title: {
          text: "Cantidad de deudores"
        },
        axisX: {
          valueFormatString: "DD MMM",
          crosshair: {
            enabled: true,
            snapToDataPoint: true
          }
        },
        axisY: {
          title: "Número de visitas",
          includeZero: true,
          crosshair: {
            enabled: true
          }
        },
        toolTip: {
          shared: true
        },
        legend: {
          cursor: "pointer",
          verticalAlign: "bottom",
          horizontalAlign: "left",
          dockInsidePlotArea: true,
          itemclick: toogleDataSeries
        },
        data: [{
          type: "line",
          showInLegend: true,
          name: "Miembros de la comunidad",
          markerType: "square",
          xValueFormatString: "DD MMM, YYYY",
          color: "#F08080",
          dataPoints: [
            { x: new Date(2017, 0, 3), y: 650 },
            { x: new Date(2017, 0, 4), y: 700 },
            { x: new Date(2017, 0, 5), y: 710 },
            { x: new Date(2017, 0, 6), y: 658 },
            { x: new Date(2017, 0, 7), y: 734 },
            { x: new Date(2017, 0, 8), y: 963 },
            { x: new Date(2017, 0, 9), y: 847 },
            { x: new Date(2017, 0, 10), y: 853 },
            { x: new Date(2017, 0, 11), y: 869 },
            { x: new Date(2017, 0, 12), y: 943 },
            { x: new Date(2017, 0, 13), y: 970 },
            { x: new Date(2017, 0, 14), y: 869 },
            { x: new Date(2017, 0, 15), y: 890 },
            { x: new Date(2017, 0, 16), y: 930 }
          ]
        },
        {
          type: "line",
          showInLegend: true,
          name: "Invitados",
          lineDashType: "dash",
          dataPoints: [
            { x: new Date(2017, 0, 3), y: 510 },
            { x: new Date(2017, 0, 4), y: 560 },
            { x: new Date(2017, 0, 5), y: 540 },
            { x: new Date(2017, 0, 6), y: 558 },
            { x: new Date(2017, 0, 7), y: 544 },
            { x: new Date(2017, 0, 8), y: 693 },
            { x: new Date(2017, 0, 9), y: 657 },
            { x: new Date(2017, 0, 10), y: 663 },
            { x: new Date(2017, 0, 11), y: 639 },
            { x: new Date(2017, 0, 12), y: 673 },
            { x: new Date(2017, 0, 13), y: 660 },
            { x: new Date(2017, 0, 14), y: 562 },
            { x: new Date(2017, 0, 15), y: 643 },
            { x: new Date(2017, 0, 16), y: 570 }
          ]
        }]
      });

      chart.render();
      chart1.render();

      function toogleDataSeries(e) {
        if (typeof (e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
          e.dataSeries.visible = false;
        } else {
          e.dataSeries.visible = true;
        }
        chart.render();
        chart1.render();
      }

    }
  </script>

</head>

<div *ngIf="shouldRun" class="example-container" [class.example-is-mobile]="mobileQuery.matches">
  <mat-toolbar color="black" class="example-toolbar">
    <button mat-icon-button (click)="snav.toggle()"><mat-icon>menu</mat-icon></button>
    <h2><img src="../../assets/logo4.jpeg" id="logo"><img></h2>
    <a style="text-decoration: none;">
      <h2 class="example-app-name">{{usuario}}</h2>
      <h6>administrador</h6>
    </a>
    <div
      style="background-color: transparent transparent; width: 40px; height: 40px; border-radius: 50%; overflow: hidden; margin-top: 10px; display: flex; justify-content: left; align-items: left; position: relative;">
      <img [src]="imagenURL" alt="Imagen" *ngIf="imagenURL !== ''" id="usuario"
        style="width: 40px; height: 80px; object-fit: contain; position: absolute; top: -25px; left: 50%; transform: translateX(-50%);">
    </div>
  </mat-toolbar>



  <mat-sidenav-container class="example-sidenav-container" [style.marginTop.px]="mobileQuery.matches ? 56 : 0">
    <mat-sidenav #snav [mode]="mobileQuery.matches ? 'over' : 'side'" [fixedInViewport]="mobileQuery.matches"
      fixedTopGap="56">
      <mat-nav-list>
        <ng-container *ngFor="let Nav of fillerNav; let i = index;">
          <ng-container *ngIf="Nav.children; else itemTemplate">
            <mat-expansion-panel [expanded]="submenuAbierto === i" hideToggle class="mat-elevation-z0">
              <mat-expansion-panel-header (click)="abrirSubmenu(i)">
                <mat-panel-title>
                  <mat-icon>{{ Nav.icon }}</mat-icon>
                  <a style="position: absolute; left: 50px; font-size:15px; color: black; text-decoration: none;">{{
                    Nav.name }}</a>
                </mat-panel-title>
              </mat-expansion-panel-header>
              <mat-nav-list>
                <a mat-list-item [routerLink]="subNav.route" *ngFor="let subNav of Nav.children" class="opciones"
                  style="text-decoration: none;">
                  <mat-icon>{{ subNav.icon }}</mat-icon>
                  <p>{{ subNav.name }}</p>
                </a>
              </mat-nav-list>
            </mat-expansion-panel>
          </ng-container>
          <ng-template #itemTemplate>
            <a mat-list-item [routerLink]="Nav.route" class="opciones" style="text-decoration: none;">
              <mat-icon>{{ Nav.icon }}</mat-icon>
              <p>{{ Nav.name }}</p>
            </a>
          </ng-template>
        </ng-container>
        <div class="configuracion">
          <a mat-list-item (click)="exit()" class="opciones" style="text-decoration: none;">
            <mat-icon>exit_to_app</mat-icon>
            <p>Salir</p>
          </a>
        </div>
      </mat-nav-list>
    </mat-sidenav>
    <mat-sidenav-content>


      <div *ngIf="esPanelAdmin()">

        <body>
          <p>caca</p>
          <div id="chartContainer" style="height: 300px; width: 100%;"></div>
          <div id="chartContainer1" style="height: 300px; width: 100%;"></div>
          <script src="https://cdn.canvasjs.com/canvasjs.min.js"></script>
        </body>




      </div>


      <router-outlet></router-outlet>

    </mat-sidenav-content>
  </mat-sidenav-container>

</div>
</html>